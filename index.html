<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
<title>FairwayOS LAB</title>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500;600&family=IBM+Plex+Sans:wght@300;400;500;600&display=swap" rel="stylesheet"/>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#06090f;--bg2:#090d15;--bg3:#0d1520;--bg4:#111e2e;--bg5:#162338;
  --border:rgba(56,217,245,0.08);--border2:rgba(56,217,245,0.18);--border3:rgba(56,217,245,0.35);
  --blue:#38d9f5;--blue2:#00e5ff;--blue-dim:rgba(56,217,245,0.12);
  --red:#ff4d6d;--red-dim:rgba(255,77,109,0.12);
  --amber:#ffb347;--amber-dim:rgba(255,179,71,0.12);
  --green:#00ff9d;--green-dim:rgba(0,255,157,0.1);
  --text:#cfe8f5;--text2:#7a9ab5;--text3:#3d5a72;--grey3:#253545;
  --mono:'IBM Plex Mono',monospace;--sans:'IBM Plex Sans',sans-serif;--r:4px;
  --bottom-nav-h:64px;
}
html,body{height:100%;background:var(--bg);color:var(--text);font-family:var(--sans);font-size:13px;}
body{overflow:hidden}
body::before{
  content:'';position:fixed;inset:0;
  background-image:linear-gradient(rgba(56,217,245,0.015) 1px,transparent 1px),linear-gradient(90deg,rgba(56,217,245,0.015) 1px,transparent 1px);
  background-size:40px 40px;pointer-events:none;z-index:0;
}
::-webkit-scrollbar{width:3px;height:3px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--grey3);border-radius:2px}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}
.pulse{animation:pulse 2s infinite}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT â€” DESKTOP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.app{display:flex;height:100vh;position:relative;z-index:1}

/* SIDEBAR (desktop only) */
.sidebar{
  width:210px;flex-shrink:0;background:var(--bg2);
  border-right:1px solid var(--border2);
  display:flex;flex-direction:column;padding:0;overflow:hidden;position:relative;
}
.sidebar::after{
  content:'';position:absolute;top:0;right:0;width:1px;height:100%;
  background:linear-gradient(to bottom,transparent,var(--blue),transparent);
  opacity:.4;pointer-events:none;
}
.logo{padding:22px 20px 20px;border-bottom:1px solid var(--border)}
.logo-eyebrow{font-family:var(--mono);font-size:8px;letter-spacing:4px;color:var(--text3);text-transform:uppercase;margin-bottom:6px}
.logo-mark{font-family:var(--mono);font-size:22px;font-weight:600;color:var(--blue);letter-spacing:3px;line-height:1;text-shadow:0 0 20px rgba(56,217,245,0.4)}
.logo-sub{font-family:var(--mono);font-size:9px;color:var(--text3);letter-spacing:2px;text-transform:uppercase;margin-top:4px}
.nav-section{padding:16px 0 8px}
.nav-label{font-family:var(--mono);font-size:8px;letter-spacing:3px;text-transform:uppercase;color:var(--text3);padding:0 20px 8px}
.nav-item{
  display:flex;align-items:center;gap:10px;padding:9px 20px;
  cursor:pointer;color:var(--text2);font-size:12px;font-family:var(--mono);
  border-left:1px solid transparent;transition:all .12s;user-select:none;position:relative;
}
.nav-item:hover{color:var(--text);background:var(--blue-dim)}
.nav-item.active{color:var(--blue);border-left-color:var(--blue);background:var(--blue-dim)}
.nav-item.active::after{
  content:'';position:absolute;right:0;top:50%;transform:translateY(-50%);
  width:3px;height:60%;background:var(--blue);box-shadow:0 0 8px var(--blue);border-radius:2px;
}
.int-section{padding:12px 0;border-top:1px solid var(--border)}
.int-row{display:flex;align-items:center;gap:8px;padding:6px 20px}
.int-label{font-family:var(--mono);font-size:10px;color:var(--text2)}
.dot{width:5px;height:5px;border-radius:50%;flex-shrink:0}
.sidebar-foot{margin-top:auto;padding:14px 20px;border-top:1px solid var(--border)}
.sys-status{display:flex;align-items:center;gap:8px;font-family:var(--mono);font-size:10px;color:var(--blue);background:var(--blue-dim);border:1px solid var(--border2);padding:7px 10px;border-radius:var(--r)}

/* MAIN */
.main{flex:1;overflow-y:auto;display:flex;flex-direction:column;background:var(--bg)}

/* TOPBAR */
.topbar{
  display:flex;align-items:center;justify-content:space-between;
  padding:0 28px;height:56px;border-bottom:1px solid var(--border2);background:var(--bg2);
  position:sticky;top:0;z-index:10;flex-shrink:0;
}
.topbar::after{content:'';position:absolute;bottom:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--blue),transparent);opacity:.3}
.page-title{font-family:var(--mono);font-size:13px;font-weight:600;letter-spacing:3px;text-transform:uppercase;color:var(--blue)}
.topbar-r{display:flex;align-items:center;gap:14px}
.time-big{font-family:var(--mono);font-size:18px;color:var(--text);letter-spacing:2px;line-height:1}
.time-sub{font-family:var(--mono);font-size:9px;color:var(--text3);letter-spacing:1px;margin-top:2px;text-align:right}
.notif-wrap{position:relative;cursor:pointer;background:none;border:none;color:var(--text2);padding:4px}
.notif-badge{position:absolute;top:-3px;right:-5px;background:var(--red);color:#fff;font-size:8px;padding:1px 4px;border-radius:2px;font-family:var(--mono);font-weight:600}
.av-btn{width:30px;height:30px;border-radius:var(--r);background:var(--blue-dim);display:flex;align-items:center;justify-content:center;color:var(--blue);font-size:10px;font-weight:700;font-family:var(--mono);border:1px solid var(--border2);cursor:pointer}
.divider-v{width:1px;height:32px;background:var(--border2)}
.content{padding:20px 28px 28px}

/* BOTTOM NAV â€” hidden on desktop */
.bottom-nav{display:none}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GRIDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.g2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.g4{display:grid;grid-template-columns:repeat(4,1fr);gap:14px}
.g-dev{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.kb{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CARDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.card{background:var(--bg2);border:1px solid var(--border2);border-radius:var(--r);padding:18px;position:relative;overflow:hidden}
.card::before,.card::after{content:'';position:absolute;width:10px;height:10px;border-color:var(--blue);border-style:solid;opacity:.5}
.card::before{top:0;left:0;border-width:1px 0 0 1px}
.card::after{bottom:0;right:0;border-width:0 1px 1px 0}
.card-h{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;gap:8px;flex-wrap:wrap}
.card-t{font-family:var(--mono);font-size:9px;letter-spacing:3px;text-transform:uppercase;color:var(--text3);font-weight:500}
.card-v{font-family:var(--mono);font-size:38px;line-height:1;letter-spacing:1px;color:var(--text)}
.card-s{font-family:var(--mono);font-size:10px;color:var(--text2);margin-top:4px}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   COMPONENTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.tag{font-family:var(--mono);font-size:9px;padding:2px 8px;border-radius:2px;display:inline-block;letter-spacing:1px;text-transform:uppercase;white-space:nowrap}
.tag-active{background:var(--green-dim);color:var(--green);border:1px solid rgba(0,255,157,.25)}
.tag-upcoming{background:var(--bg4);color:var(--text3);border:1px solid var(--border)}
.tag-unpaid{background:var(--red-dim);color:var(--red);border:1px solid rgba(255,77,109,.25)}
.tag-paid{background:var(--green-dim);color:var(--green);border:1px solid rgba(0,255,157,.2)}
.b-row{display:flex;align-items:center;gap:12px;padding:10px 0;border-bottom:1px solid var(--border)}
.b-row:last-child{border-bottom:none}
.av{width:32px;height:32px;border-radius:var(--r);background:var(--bg4);display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:9px;font-weight:600;color:var(--text2);flex-shrink:0;border:1px solid var(--border2)}
.av.on{background:rgba(0,255,157,.08);color:var(--green);border-color:rgba(0,255,157,.3)}
.b-name{font-size:13px;font-weight:500;color:var(--text)}
.b-meta{font-family:var(--mono);font-size:10px;color:var(--text3);margin-top:2px}
.al-row{display:flex;align-items:flex-start;gap:10px;padding:9px 0;border-bottom:1px solid var(--border)}
.al-row:last-child{border-bottom:none}
.al-dot{width:5px;height:5px;border-radius:50%;flex-shrink:0;margin-top:5px}
.al-txt{font-size:12px;color:var(--text2);line-height:1.5}
.al-time{font-family:var(--mono);font-size:9px;color:var(--text3);margin-top:2px}
.dev-card{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:14px;display:flex;flex-direction:column;gap:8px;transition:all .15s;position:relative;overflow:hidden}
.dev-card.on{border-color:rgba(56,217,245,.25);background:rgba(56,217,245,.03)}
.dev-card.on::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--blue),transparent);opacity:.5}
.dev-name{font-family:var(--mono);font-size:10px;color:var(--text2);font-weight:500}
.dev-on{font-family:var(--mono);font-size:10px;color:var(--blue)}
.dev-off{font-family:var(--mono);font-size:10px;color:var(--text3)}
.dev-top{display:flex;align-items:center;justify-content:space-between}
.tgl{width:34px;height:18px;border-radius:2px;border:none;cursor:pointer;position:relative;transition:all .2s;flex-shrink:0;outline:none}
.tgl.on{background:rgba(56,217,245,.2);border:1px solid var(--border3)}
.tgl.off{background:var(--bg5);border:1px solid var(--border)}
.tgl::after{content:'';position:absolute;top:2px;width:12px;height:12px;border-radius:1px;transition:all .2s}
.tgl.on::after{left:18px;background:var(--blue);box-shadow:0 0 6px var(--blue)}
.tgl.off::after{left:2px;background:var(--grey3)}
input[type=range]{width:100%;-webkit-appearance:none;height:2px;border-radius:1px;background:var(--bg5);outline:none;margin-top:4px;display:block}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:14px;height:14px;border-radius:2px;background:var(--blue);cursor:pointer;box-shadow:0 0 6px rgba(56,217,245,.5)}
.sl-lbl{font-family:var(--mono);font-size:9px;color:var(--text3);display:flex;justify-content:space-between}
.cam-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.cam-feed{border-radius:var(--r);overflow:hidden;position:relative;border:1px solid var(--border2);aspect-ratio:16/9;background:var(--bg3);cursor:pointer}
.cam-feed img{width:100%;height:100%;object-fit:cover;display:block;filter:brightness(.75) saturate(.5) hue-rotate(200deg)}
.cam-feed.offline img{filter:brightness(.1) saturate(0)}
.cam-ov{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:space-between;padding:7px}
.cam-name{font-family:var(--mono);font-size:9px;font-weight:600;color:#fff;letter-spacing:1px;text-transform:uppercase}
.cam-live{font-family:var(--mono);font-size:8px;color:var(--green);background:rgba(0,0,0,.6);padding:2px 6px;border-radius:2px;display:inline-flex;align-items:center;gap:4px;border:1px solid rgba(0,255,157,.3);letter-spacing:1px}
.cam-off-tag{font-family:var(--mono);font-size:8px;color:var(--red);background:rgba(0,0,0,.6);padding:2px 6px;border-radius:2px;letter-spacing:1px}
.cam-rec{font-family:var(--mono);font-size:8px;color:rgba(255,255,255,.6);background:rgba(0,0,0,.5);padding:2px 6px;border-radius:2px}
.remote-screen{background:#000;border-radius:var(--r);aspect-ratio:16/9;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:12px;border:1px solid var(--border2);position:relative;overflow:hidden}
.remote-screen::before{content:'';position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(56,217,245,.015) 3px,rgba(56,217,245,.015) 4px);pointer-events:none}
.kb-col{background:var(--bg2);border:1px solid var(--border);border-radius:var(--r);padding:14px;min-height:120px;position:relative}
.kb-col::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;border-radius:var(--r) var(--r) 0 0}
.kb-col-todo::before{background:linear-gradient(90deg,transparent,var(--text3),transparent)}
.kb-col-inprogress::before{background:linear-gradient(90deg,transparent,var(--amber),transparent)}
.kb-col-done::before{background:linear-gradient(90deg,transparent,var(--green),transparent)}
.kb-col-h{font-family:var(--mono);font-size:9px;letter-spacing:3px;text-transform:uppercase;color:var(--text3);margin-bottom:12px;display:flex;align-items:center;justify-content:space-between}
.kb-cnt{background:var(--bg4);color:var(--text2);font-family:var(--mono);font-size:9px;padding:1px 6px;border-radius:2px;border:1px solid var(--border)}
.kb-card{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:10px;margin-bottom:8px;cursor:grab;transition:border-color .12s}
.kb-card:hover{border-color:var(--border2)}
.kb-title{font-size:11px;color:var(--text);font-weight:500;margin-bottom:7px;line-height:1.4}
.kb-tags{display:flex;align-items:center;gap:5px;flex-wrap:wrap}
.kt{font-family:var(--mono);font-size:8px;padding:2px 6px;border-radius:2px;letter-spacing:.5px;text-transform:uppercase}
.kt-Hardware{background:rgba(56,217,245,.08);color:var(--blue);border:1px solid rgba(56,217,245,.2)}
.kt-Admin{background:var(--amber-dim);color:var(--amber);border:1px solid rgba(255,179,71,.2)}
.kt-Security{background:var(--red-dim);color:var(--red);border:1px solid rgba(255,77,109,.2)}
.kt-Maintenance{background:var(--green-dim);color:var(--green);border:1px solid rgba(0,255,157,.15)}
.kt-Order{background:rgba(160,140,255,.08);color:#a08cff;border:1px solid rgba(160,140,255,.2)}
.kp-high{font-family:var(--mono);font-size:8px;padding:2px 5px;border-radius:2px;background:var(--red-dim);color:var(--red);text-transform:uppercase}
.kp-med{font-family:var(--mono);font-size:8px;padding:2px 5px;border-radius:2px;background:var(--amber-dim);color:var(--amber);text-transform:uppercase}
.kp-low{font-family:var(--mono);font-size:8px;padding:2px 5px;border-radius:2px;background:var(--bg4);color:var(--text3);text-transform:uppercase}
.kdue{font-family:var(--mono);font-size:9px;color:var(--text3);margin-top:6px}
.btn{display:inline-flex;align-items:center;gap:6px;padding:6px 13px;background:transparent;border:1px solid var(--border2);color:var(--text2);border-radius:var(--r);cursor:pointer;font-size:11px;font-family:var(--mono);transition:all .12s;letter-spacing:.5px;white-space:nowrap}
.btn:hover{background:var(--bg4);color:var(--text);border-color:var(--border3)}
.btn-blue{display:inline-flex;align-items:center;gap:6px;padding:7px 14px;background:var(--blue-dim);border:1px solid var(--border3);color:var(--blue);border-radius:var(--r);cursor:pointer;font-size:11px;font-family:var(--mono);letter-spacing:.5px;white-space:nowrap}
.btn-primary{display:inline-flex;align-items:center;gap:8px;padding:10px 22px;background:var(--blue);color:#06090f;font-size:11px;font-weight:700;border-radius:var(--r);border:none;cursor:pointer;font-family:var(--mono);letter-spacing:1px;box-shadow:0 0 20px rgba(56,217,245,.3)}
.int-badge{display:inline-flex;align-items:center;gap:6px;background:var(--bg4);border:1px solid var(--border2);border-radius:2px;padding:3px 9px;font-family:var(--mono);font-size:9px;color:var(--text2);letter-spacing:.5px;white-space:nowrap}
.rev-row{display:flex;justify-content:space-between;padding:7px 0;border-bottom:1px solid var(--border)}
.rev-row:last-child{border-bottom:none}
.lock-wrap{display:flex;flex-direction:column;align-items:center;gap:12px;padding:16px}
.lock-circle{width:72px;height:72px;border-radius:var(--r);display:flex;align-items:center;justify-content:center;transition:all .3s}
.kb-new-input{width:100%;background:transparent;border:none;outline:none;color:var(--text);font-size:12px;margin-bottom:8px;font-family:var(--sans)}
select{appearance:none;background:var(--bg4);border:1px solid var(--border2);color:var(--text2);border-radius:var(--r);padding:3px 8px;font-size:10px;font-family:var(--mono)}
.data-label{font-family:var(--mono);font-size:9px;color:var(--text3);letter-spacing:1px;text-transform:uppercase}
.data-val{font-family:var(--mono);font-size:12px;color:var(--text)}
.scanlines{position:fixed;inset:0;pointer-events:none;z-index:999;background:repeating-linear-gradient(0deg,transparent,transparent 1px,rgba(0,0,0,.025) 1px,rgba(0,0,0,.025) 2px)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MOBILE STYLES â€” max-width: 768px
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media(max-width:768px){
  body{overflow:hidden}

  /* Hide desktop sidebar */
  .sidebar{display:none}

  /* App stacks vertically */
  .app{flex-direction:column;height:100dvh}

  /* Main takes all space minus bottom nav */
  .main{flex:1;min-height:0;overflow-y:auto;padding-bottom:0}

  /* Slim topbar */
  .topbar{
    padding:0 16px;height:50px;
  }
  .page-title{font-size:11px;letter-spacing:2px}
  .time-big{font-size:14px}
  .time-sub{display:none}
  .divider-v{display:none}

  /* Content padding */
  .content{padding:14px 14px calc(var(--bottom-nav-h) + 14px)}

  /* Bottom nav bar */
  .bottom-nav{
    display:flex;position:fixed;bottom:0;left:0;right:0;
    height:var(--bottom-nav-h);background:var(--bg2);
    border-top:1px solid var(--border2);z-index:100;
    align-items:stretch;
  }
  .bottom-nav::before{
    content:'';position:absolute;top:0;left:0;right:0;height:1px;
    background:linear-gradient(90deg,transparent,var(--blue),transparent);opacity:.4;
  }
  .bnav-item{
    flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;
    gap:4px;cursor:pointer;color:var(--text3);transition:all .15s;
    -webkit-tap-highlight-color:transparent;border:none;background:none;padding:0;
    font-family:var(--mono);
  }
  .bnav-item.active{color:var(--blue)}
  .bnav-item svg{transition:all .15s}
  .bnav-item.active svg{filter:drop-shadow(0 0 4px var(--blue))}
  .bnav-label{font-size:8px;letter-spacing:1px;text-transform:uppercase;font-family:var(--mono)}

  /* Grids collapse */
  .g2{grid-template-columns:1fr}
  .g4{grid-template-columns:1fr 1fr;gap:10px}
  .g-dev{grid-template-columns:1fr 1fr;gap:8px}

  /* Cards */
  .card{padding:14px}
  .card-v{font-size:30px}

  /* Kanban â€” horizontal scroll on mobile */
  .kb-wrap{overflow-x:auto;-webkit-overflow-scrolling:touch;padding-bottom:4px;margin:0 -14px;padding:0 14px}
  .kb{display:flex;gap:12px;min-width:max-content;padding-bottom:8px}
  .kb-col{width:260px;flex-shrink:0}

  /* Bookings table â€” simplified on mobile */
  .booking-table-desktop{display:none}
  .booking-table-mobile{display:block}

  /* Camera grid */
  .cam-grid{grid-template-columns:1fr}

  /* Remote â€” stack */
  .remote-wrap .g2{grid-template-columns:1fr}

  /* Lock wrap compact */
  .lock-wrap{padding:12px;gap:10px}
  .lock-circle{width:56px;height:56px}

  /* Integrations strip */
  .int-strip{display:flex;gap:8px;overflow-x:auto;padding:0 14px 12px;margin:0 -14px;-webkit-overflow-scrolling:touch}
  .int-strip-item{display:flex;align-items:center;gap:5px;background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:5px 10px;flex-shrink:0}
  .int-strip-label{font-family:var(--mono);font-size:9px;color:var(--text2);white-space:nowrap;letter-spacing:1px}

  /* Hide some topbar elements */
  .topbar-sub-label{display:none}
}

@media(max-width:380px){
  .g4{grid-template-columns:1fr 1fr}
  .card-v{font-size:26px}
  .content{padding:12px 12px calc(var(--bottom-nav-h) + 12px)}
}
</style>
</head>
<body>
<div class="scanlines"></div>
<div class="app">

  <!-- â”€â”€ DESKTOP SIDEBAR â”€â”€ -->
  <aside class="sidebar">
    <div class="logo">
      <div class="logo-eyebrow">System v2.1.0</div>
      <div class="logo-mark">FAIRWAY<br>OS</div>
      <div class="logo-sub">Studio Command</div>
    </div>
    <div class="nav-section">
      <div class="nav-label">Navigation</div>
      <div class="nav-item active" id="nav-overview" onclick="go('overview')">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
        OVERVIEW
      </div>
      <div class="nav-item" id="nav-bookings" onclick="go('bookings')">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
        BOOKINGS
      </div>
      <div class="nav-item" id="nav-devices" onclick="go('devices')">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
        DEVICES
      </div>
      <div class="nav-item" id="nav-cameras" onclick="go('cameras')">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 7l-7 5 7 5V7z"/><rect x="1" y="5" width="15" height="14" rx="2"/></svg>
        SECURITY
      </div>
      <div class="nav-item" id="nav-remote" onclick="go('remote')">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="1"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
        REMOTE PC
      </div>
      <div class="nav-item" id="nav-kanban" onclick="go('kanban')">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="5" height="18"/><rect x="10" y="3" width="5" height="12"/><rect x="17" y="3" width="5" height="15"/></svg>
        KANBAN
      </div>
    </div>
    <div class="int-section">
      <div class="nav-label">Integrations</div>
      <div class="int-row"><div class="dot pulse" style="background:var(--green);box-shadow:0 0 4px var(--green)"></div><span class="int-label">TRACKMAN</span></div>
      <div class="int-row"><div class="dot pulse" style="background:var(--green);box-shadow:0 0 4px var(--green);animation-delay:.5s"></div><span class="int-label">STRIPE</span></div>
      <div class="int-row"><div class="dot pulse" style="background:var(--green);box-shadow:0 0 4px var(--green);animation-delay:1s"></div><span class="int-label">SCHLAGE LOCK</span></div>
      <div class="int-row"><div class="dot" style="background:var(--amber)"></div><span class="int-label" style="color:var(--text3)">NEST AC</span></div>
    </div>
    <div class="sidebar-foot">
      <div class="sys-status"><div class="dot pulse" style="background:var(--blue);box-shadow:0 0 5px var(--blue)"></div>STUDIO ONLINE</div>
      <div style="font-family:var(--mono);font-size:9px;color:var(--text3);margin-top:8px;letter-spacing:1px">CLOSES 00:00</div>
    </div>
  </aside>

  <!-- â”€â”€ MAIN â”€â”€ -->
  <main class="main">
    <div class="topbar">
      <div style="display:flex;align-items:center;gap:16px">
        <div class="page-title" id="ptitle">// OVERVIEW</div>
        <div class="topbar-sub-label" style="font-family:var(--mono);font-size:9px;color:var(--text3);letter-spacing:2px">BAY 1 â€” ACTIVE</div>
      </div>
      <div class="topbar-r">
        <div class="time-display">
          <div class="time-big" id="clk">--:--:--</div>
          <div class="time-sub" id="dline"></div>
        </div>
        <div class="divider-v"></div>
        <button class="notif-wrap" onclick="alert('3 system alerts')">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
          <span class="notif-badge">3</span>
        </button>
        <div class="av-btn">JS</div>
      </div>
    </div>
    <div class="content" id="con"></div>
  </main>

  <!-- â”€â”€ MOBILE BOTTOM NAV â”€â”€ -->
  <nav class="bottom-nav">
    <button class="bnav-item active" id="bnav-overview" onclick="go('overview')">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
      <span class="bnav-label">Home</span>
    </button>
    <button class="bnav-item" id="bnav-bookings" onclick="go('bookings')">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
      <span class="bnav-label">Book</span>
    </button>
    <button class="bnav-item" id="bnav-devices" onclick="go('devices')">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
      <span class="bnav-label">Devices</span>
    </button>
    <button class="bnav-item" id="bnav-cameras" onclick="go('cameras')">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 7l-7 5 7 5V7z"/><rect x="1" y="5" width="15" height="14" rx="2"/></svg>
      <span class="bnav-label">Cams</span>
    </button>
    <button class="bnav-item" id="bnav-kanban" onclick="go('kanban')">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="5" height="18"/><rect x="10" y="3" width="5" height="12"/><rect x="17" y="3" width="5" height="15"/></svg>
      <span class="bnav-label">Tasks</span>
    </button>
    <button class="bnav-item" id="bnav-remote" onclick="go('remote')">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="1"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
      <span class="bnav-label">Remote</span>
    </button>
  </nav>

</div>

<script>
var page='overview';
var devices={lights:true,ac:true,speaker:true,vacuum:false,gaming_pc:true,wifi:true,projector:true,display:true};
var acTemp=70,vol=40,bright=80,locked=true,remConn=false,expandCam=null,addCol=null,dragSrc=null;
var kanban={
  todo:[
    {id:'k1',title:'Replace TrackMan projector bulb',tag:'Hardware',prio:'high',due:'Feb 24'},
    {id:'k2',title:'Update booking cancellation policy',tag:'Admin',prio:'low',due:'Mar 1'},
    {id:'k3',title:'Order replacement USB hub',tag:'Order',prio:'med',due:'Feb 22'},
  ],
  inprogress:[
    {id:'k4',title:'Install new speaker mounts',tag:'Hardware',prio:'med',due:'Feb 21'},
    {id:'k5',title:'Reprogram door lock codes',tag:'Security',prio:'high',due:'Today'},
  ],
  done:[
    {id:'k6',title:'Deep clean vacuum filters',tag:'Maintenance',prio:'low',due:'Feb 18'},
    {id:'k7',title:'Upgrade gaming PC RAM to 64GB',tag:'Hardware',prio:'med',due:'Feb 17'},
  ]
};

function isMobile(){return window.innerWidth<=768}

// Clock
function tick(){
  var n=new Date();
  document.getElementById('clk').textContent=n.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false});
  document.getElementById('dline').textContent=n.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'}).toUpperCase();
}
setInterval(tick,1000);tick();

// Nav
var TITLES={overview:'// OVERVIEW',bookings:'// BOOKINGS',devices:'// DEVICES',cameras:'// SECURITY',remote:'// REMOTE PC',kanban:'// KANBAN'};
function go(p){
  page=p;expandCam=null;addCol=null;
  document.querySelectorAll('.nav-item,.bnav-item').forEach(function(el){el.classList.remove('active');});
  var dn=document.getElementById('nav-'+p);if(dn)dn.classList.add('active');
  var bn=document.getElementById('bnav-'+p);if(bn)bn.classList.add('active');
  document.getElementById('ptitle').textContent=TITLES[p]||p;
  render();
  document.querySelector('.main').scrollTop=0;
}

// Charts
function barSVG(data,labels){
  var W=420,H=110,PT=6,PB=20;
  var cH=H-PT-PB,max=Math.max.apply(null,data)*1.15,bw=Math.floor(W/data.length)-5,bars='',xs='';
  for(var i=0;i<data.length;i++){
    var bh=Math.round((data[i]/max)*cH),x=i*(W/data.length)+3,y=PT+cH-bh;
    bars+='<rect x="'+x+'" y="'+y+'" width="'+bw+'" height="'+bh+'" rx="1" fill="#38d9f5" fill-opacity="0.55"/>';
    bars+='<rect x="'+x+'" y="'+y+'" width="'+bw+'" height="1" fill="#38d9f5" fill-opacity="0.9"/>';
    xs+='<text x="'+(x+bw/2)+'" y="'+(H-4)+'" text-anchor="middle" fill="#3d5a72" font-size="9" font-family="IBM Plex Mono">'+labels[i]+'</text>';
  }
  return '<svg viewBox="0 0 '+W+' '+H+'" style="width:100%;height:120px">'+bars+xs+'</svg>';
}
function areaSVG(data,labels){
  var W=420,H=110,PT=6,PB=20;
  var cH=H-PT-PB,max=Math.max.apply(null,data)*1.15,n=data.length,pts=[];
  for(var i=0;i<n;i++) pts.push([i*(W/(n-1)),PT+cH-(data[i]/max)*cH]);
  var line=pts.map(function(p,i){return(i?'L':'M')+p[0].toFixed(1)+','+p[1].toFixed(1);}).join(' ');
  var area=line+' L'+pts[n-1][0]+','+(PT+cH)+' L'+pts[0][0]+','+(PT+cH)+' Z';
  var xs=labels.map(function(l,i){return '<text x="'+(i*(W/(n-1))).toFixed(1)+'" y="'+(H-4)+'" text-anchor="middle" fill="#3d5a72" font-size="9" font-family="IBM Plex Mono">'+l+'</text>';}).join('');
  var dots=pts.map(function(p){return '<circle cx="'+p[0].toFixed(1)+'" cy="'+p[1].toFixed(1)+'" r="2.5" fill="#38d9f5" opacity=".8"/>';}).join('');
  return '<svg viewBox="0 0 '+W+' '+H+'" style="width:100%;height:120px">'
    +'<defs><linearGradient id="ag" x1="0" y1="0" x2="0" y2="1"><stop offset="5%" stop-color="#38d9f5" stop-opacity="0.2"/><stop offset="95%" stop-color="#38d9f5" stop-opacity="0"/></linearGradient></defs>'
    +'<path d="'+area+'" fill="url(#ag)"/><path d="'+line+'" fill="none" stroke="#38d9f5" stroke-width="1.5"/>'+dots+xs+'</svg>';
}

// Data
var BOOKINGS=[
  {id:1,name:'James Harlow',time:'06:00',dur:'1h',bay:'Bay 1',status:'active',av:'JH',paid:true},
  {id:2,name:'Mia Chen',time:'07:30',dur:'2h',bay:'Bay 1',status:'upcoming',av:'MC',paid:true},
  {id:3,name:'Derek Santos',time:'09:00',dur:'1h',bay:'Bay 1',status:'upcoming',av:'DS',paid:false},
  {id:4,name:'Olivia Brooks',time:'10:30',dur:'1.5h',bay:'Bay 1',status:'upcoming',av:'OB',paid:true},
  {id:5,name:'Tyler Nguyen',time:'12:00',dur:'1h',bay:'Bay 1',status:'upcoming',av:'TN',paid:true},
];
var REVD=[480,620,390,870,1100,1420,980],REVL=['MON','TUE','WED','THU','FRI','SAT','SUN'];
var OCCD=[30,80,95,70,55,85,100,90,40],OCCL=['06','08','10','12','14','16','18','20','22'];
var CAMS=[
  {id:1,name:'ENTRANCE',status:'live',img:'https://images.unsplash.com/photo-1587174486073-ae5e5cff23aa?w=400&q=60'},
  {id:2,name:'BAY 1 WIDE',status:'live',img:'https://images.unsplash.com/photo-1535131749006-b7f58c99034b?w=400&q=60'},
  {id:3,name:'BAY 1 REAR',status:'live',img:'https://images.unsplash.com/photo-1593111774642-a746a5a60165?w=400&q=60'},
  {id:4,name:'STORAGE',status:'offline',img:'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&q=60'},
];

// Mobile integrations strip
function intStrip(){
  return '<div class="int-strip">'
    +'<div class="int-strip-item"><div class="dot pulse" style="background:var(--green);box-shadow:0 0 4px var(--green)"></div><span class="int-strip-label">TRACKMAN</span></div>'
    +'<div class="int-strip-item"><div class="dot pulse" style="background:var(--green);box-shadow:0 0 4px var(--green)"></div><span class="int-strip-label">STRIPE</span></div>'
    +'<div class="int-strip-item"><div class="dot pulse" style="background:var(--green);box-shadow:0 0 4px var(--green)"></div><span class="int-strip-label">SCHLAGE</span></div>'
    +'<div class="int-strip-item"><div class="dot" style="background:var(--amber)"></div><span class="int-strip-label" style="color:var(--text3)">NEST AC</span></div>'
    +'</div>';
}

function renderOverview(){
  var mob=isMobile();
  var brows=BOOKINGS.slice(0,mob?3:4).map(function(b){
    return '<div class="b-row">'
      +'<div class="av '+(b.status==='active'?'on':'')+'">'+b.av+'</div>'
      +'<div style="flex:1;min-width:0"><div class="b-name" style="overflow:hidden;text-overflow:ellipsis;white-space:nowrap">'+b.name+'</div><div class="b-meta">'+b.time+' Â· '+b.dur+'</div></div>'
      +'<span class="tag tag-'+b.status+'">'+b.status.toUpperCase()+'</span></div>';
  }).join('');
  var alerts=[
    {t:'STORAGE CAM OFFLINE',s:'10:32',c:'var(--red)'},
    {t:'UNPAID: Derek Santos 09:00',s:'10:18',c:'var(--amber)'},
    {t:'VACUUM LOW BATTERY 12%',s:'09:41',c:'var(--amber)'},
    {t:'NEST AC reconnection required',s:'07:03',c:'var(--text3)'},
  ].map(function(a){
    return '<div class="al-row"><div class="al-dot" style="background:'+a.c+'"></div>'
      +'<div><div class="al-txt">'+a.t+'</div><div class="al-time">'+a.s+'</div></div></div>';
  }).join('');
  return (mob?intStrip():'')
    +'<div class="g4" style="margin-bottom:14px">'
    +'<div class="card"><div class="card-t">Revenue</div><div class="card-v" style="color:var(--blue);text-shadow:0 0 20px rgba(56,217,245,0.3)">$1,240</div><div class="card-s" style="color:var(--green)">â†‘ +18%</div></div>'
    +'<div class="card"><div class="card-t">Sessions</div><div class="card-v">1</div><div class="card-s">4 queued</div></div>'
    +'<div class="card"><div class="card-t">Occupancy</div><div class="card-v">74%</div><div class="card-s">7D avg</div></div>'
    +'<div class="card"><div class="card-t">MTD Rev</div><div class="card-v" style="color:var(--blue)">$18.4K</div><div class="card-s" style="color:var(--green)">â†‘ +9%</div></div>'
    +'</div>'
    +'<div class="g2" style="margin-bottom:14px">'
    +'<div class="card"><div class="card-h"><div class="card-t">Revenue // Week</div></div>'+areaSVG(REVD,REVL)+'</div>'
    +'<div class="card"><div class="card-h"><div class="card-t">Occupancy // Hour</div></div>'+barSVG(OCCD,OCCL)+'</div>'
    +'</div>'
    +'<div class="g2">'
    +'<div class="card"><div class="card-h"><div class="card-t">Schedule // Today</div>'
    +'<div class="int-badge"><div class="dot pulse" style="background:var(--green);box-shadow:0 0 4px var(--green)"></div>TRACKMAN</div></div>'+brows+'</div>'
    +'<div class="card"><div class="card-h"><div class="card-t">Alerts</div>'
    +'<span style="background:var(--red-dim);color:var(--red);font-family:var(--mono);font-size:9px;padding:2px 7px;border-radius:2px;border:1px solid rgba(255,77,109,.3)">3 ACTIVE</span></div>'
    +alerts+'</div></div>';
}

function renderBookings(){
  var mob=isMobile();
  var mobileRows=BOOKINGS.map(function(b){
    return '<div style="background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:12px;margin-bottom:10px">'
      +'<div style="display:flex;align-items:center;gap:10px;margin-bottom:8px">'
      +'<div class="av '+(b.status==='active'?'on':'')+'" style="width:36px;height:36px">'+b.av+'</div>'
      +'<div style="flex:1;min-width:0"><div class="b-name">'+b.name+'</div><div class="b-meta">'+b.time+' Â· '+b.dur+' Â· '+b.bay+'</div></div>'
      +'<span class="tag tag-'+b.status+'">'+b.status.toUpperCase()+'</span></div>'
      +'<div style="display:flex;gap:6px">'
      +'<span class="tag '+(b.paid?'tag-paid':'tag-unpaid')+'">'+(b.paid?'PAID':'UNPAID')+'</span>'
      +'</div></div>';
  }).join('');
  var desktopRows=BOOKINGS.map(function(b){
    return '<div style="display:grid;grid-template-columns:36px 1fr 70px 60px 70px 90px 80px;gap:12px;padding:10px 0;border-bottom:1px solid var(--border);align-items:center">'
      +'<div style="font-family:var(--mono);font-size:10px;color:var(--text3)">#'+b.id+'</div>'
      +'<div style="display:flex;align-items:center;gap:9px"><div class="av '+(b.status==='active'?'on':'')+'" style="width:26px;height:26px;font-size:8px">'+b.av+'</div><span style="font-size:12px">'+b.name+'</span></div>'
      +'<div style="font-family:var(--mono);font-size:11px;color:var(--text2)">'+b.time+'</div>'
      +'<div style="font-family:var(--mono);font-size:11px;color:var(--text2)">'+b.dur+'</div>'
      +'<div style="font-family:var(--mono);font-size:11px;color:var(--text2)">'+b.bay+'</div>'
      +'<span class="tag tag-'+b.status+'">'+b.status.toUpperCase()+'</span>'
      +'<span class="tag '+(b.paid?'tag-paid':'tag-unpaid')+'">'+(b.paid?'PAID':'UNPAID')+'</span></div>';
  }).join('');
  return '<div class="g4" style="margin-bottom:14px">'
    +[['Sessions','5'],['Done','0'],['Left','5'],['Unpaid','1']].map(function(s,i){
      return '<div class="card"><div class="card-t">'+s[0]+'</div><div class="card-v" style="font-size:30px'+(i===3?';color:var(--red)':'')+'">'+s[1]+'</div></div>';
    }).join('')+'</div>'
    +'<div class="card">'
    +'<div class="card-h"><div class="card-t">Session Log // Bay 1</div>'
    +'<div style="display:flex;gap:8px;flex-wrap:wrap">'
    +'<div class="int-badge"><div class="dot pulse" style="background:var(--green);box-shadow:0 0 4px var(--green)"></div>TRACKMAN</div>'
    +'<button class="btn-blue">+ NEW</button></div></div>'
    +(mob ? mobileRows
      : '<div style="display:grid;grid-template-columns:36px 1fr 70px 60px 70px 90px 80px;gap:12px;padding:7px 0;border-bottom:1px solid var(--border2)">'
        +['#','CUSTOMER','TIME','DUR','BAY','STATUS','PAYMENT'].map(function(h){return '<div style="font-family:var(--mono);font-size:8px;color:var(--text3);letter-spacing:2px">'+h+'</div>';}).join('')+'</div>'+desktopRows)
    +'</div>';
}

function renderDevices(){
  var dlist=[
    {k:'lights',label:'LIGHTS',e:'â˜€ï¸'},{k:'ac',label:'CLIMATE',e:'â„ï¸'},
    {k:'speaker',label:'AUDIO',e:'ğŸ”Š'},{k:'vacuum',label:'VACUUM',e:'ğŸ¤–'},
    {k:'gaming_pc',label:'GAMING PC',e:'ğŸ–¥'},{k:'wifi',label:'NETWORK',e:'ğŸ“¡'},
    {k:'projector',label:'PROJECTOR',e:'ğŸ“½'},{k:'display',label:'DISPLAY',e:'ğŸ“º'},
  ];
  var cards=dlist.map(function(d){
    var on=devices[d.k];
    var extra='';
    if(d.k==='lights'&&on) extra='<div class="sl-lbl"><span>DIM</span><span>'+bright+'%</span></div><input type="range" min="10" max="100" value="'+bright+'" oninput="setBright(this.value)">';
    if(d.k==='speaker'&&on) extra='<div class="sl-lbl"><span>VOL</span><span>'+vol+'%</span></div><input type="range" min="0" max="100" value="'+vol+'" oninput="setVol(this.value)">';
    return '<div class="dev-card '+(on?'on':'')+'">'
      +'<div class="dev-top"><span style="font-size:18px">'+d.e+'</span>'
      +'<button class="tgl '+(on?'on':'off')+'" onclick="togDev(\''+d.k+'\')"></button></div>'
      +'<div class="dev-name">'+d.label+'</div>'
      +'<div class="'+(on?'dev-on':'dev-off')+'">'+(on?'ONLINE':'OFFLINE')+'</div>'
      +extra+'</div>';
  }).join('');
  var onCount=Object.values(devices).filter(Boolean).length;
  return '<div class="g2" style="margin-bottom:14px">'
    +'<div class="card"><div class="card-t" style="margin-bottom:4px">Door Lock // Schlage</div>'
    +'<div class="lock-wrap">'
    +'<div class="lock-circle" style="background:'+(locked?'rgba(255,77,109,0.08)':'rgba(0,255,157,0.08)')+';border:1px solid '+(locked?'rgba(255,77,109,0.3)':'rgba(0,255,157,0.3)')+'"><span style="font-size:26px">'+(locked?'ğŸ”’':'ğŸ”“')+'</span></div>'
    +'<div style="font-family:var(--mono);font-size:16px;letter-spacing:4px;color:'+(locked?'var(--red)':'var(--green)')+'">'+( locked?'LOCKED':'UNLOCKED')+'</div>'
    +'<div style="font-family:var(--mono);font-size:9px;color:var(--text3);letter-spacing:1px">LAST: 06:04 // SYSTEM</div>'
    +'<button onclick="togLock()" style="padding:9px 20px;border-radius:var(--r);font-size:10px;font-weight:600;cursor:pointer;font-family:var(--mono);letter-spacing:2px;background:'+(locked?'rgba(0,255,157,0.08)':'rgba(255,77,109,0.08)')+';color:'+(locked?'var(--green)':'var(--red)')+';border:1px solid '+(locked?'rgba(0,255,157,0.3)':'rgba(255,77,109,0.3)')+'">'+( locked?'UNLOCK':'LOCK')+'</button>'
    +'</div></div>'
    +'<div class="card"><div class="card-h"><div class="card-t">Climate // Nest</div>'
    +'<div class="int-badge" style="color:var(--amber);border-color:rgba(255,179,71,.2)">PENDING</div></div>'
    +'<div style="display:flex;align-items:center;gap:16px;margin-bottom:14px">'
    +'<div style="font-family:var(--mono);font-size:46px;color:var(--blue);text-shadow:0 0 20px rgba(56,217,245,0.3);line-height:1">'+acTemp+'Â°</div>'
    +'<div><div style="font-family:var(--mono);font-size:9px;color:var(--text3);letter-spacing:2px">TARGET</div><div style="font-family:var(--mono);font-size:10px;color:var(--blue);margin-top:4px">COOLING ACTIVE</div></div></div>'
    +'<div class="sl-lbl"><span>62Â°F</span><span>'+acTemp+'Â°F</span><span>80Â°F</span></div>'
    +'<input type="range" min="62" max="80" value="'+acTemp+'" style="accent-color:var(--blue)" oninput="setAC(this.value)">'
    +'<div style="display:flex;gap:6px;margin-top:10px">'
    +['COOL','HEAT','FAN','AUTO'].map(function(m){return '<button style="flex:1;padding:6px 0;border-radius:var(--r);border:1px solid '+(m==='COOL'?'var(--border3)':'var(--border)')+';background:'+(m==='COOL'?'var(--blue-dim)':'transparent')+';color:'+(m==='COOL'?'var(--blue)':'var(--text3)')+';font-size:9px;cursor:pointer;font-family:var(--mono);letter-spacing:1px">'+m+'</button>';}).join('')
    +'</div></div></div>'
    +'<div class="card" style="margin-bottom:14px"><div class="card-h"><div class="card-t">Device Matrix</div>'
    +'<div style="font-family:var(--mono);font-size:9px;color:var(--text3)">'+onCount+' / '+Object.keys(devices).length+' ONLINE</div></div>'
    +'<div class="g-dev">'+cards+'</div></div>'
    +'<div class="card"><div class="card-h"><div class="card-t">Revenue // Today</div></div>'
    +[['BAY RENTALS','$1,100'],['EQUIPMENT','$80'],['LESSONS','$60'],['REFUNDS','-$40']].map(function(r){
      return '<div class="rev-row"><div class="data-label">'+r[0]+'</div><div class="data-val">'+r[1]+'</div></div>';
    }).join('')+'</div>';
}

function renderCameras(){
  var feeds=CAMS.map(function(c){
    return '<div class="cam-feed '+(c.status==='offline'?'offline':'')+'" onclick="setExpandCam('+c.id+')">'
      +'<img src="'+c.img+'" loading="lazy" alt="'+c.name+'"/>'
      +'<div class="cam-ov">'
      +'<div style="display:flex;justify-content:space-between;align-items:flex-start">'
      +'<div class="cam-name">'+c.name+'</div>'
      +(c.status==='live'?'<div class="cam-live"><div style="width:4px;height:4px;border-radius:50%;background:var(--green)"></div>LIVE</div>':'<div class="cam-off-tag">OFFLINE</div>')
      +'</div><div style="display:flex;justify-content:space-between"><div class="cam-rec">â— REC</div><div class="cam-rec">CAM-0'+c.id+'</div></div></div></div>';
  }).join('');
  var expanded='';
  if(expandCam){
    var cam=CAMS.find(function(c){return c.id===expandCam;});
    if(cam) expanded='<div class="card" style="margin-bottom:14px">'
      +'<div class="card-h"><div class="card-t">Feed // '+cam.name+'</div><button class="btn" onclick="setExpandCam(null)">âœ• CLOSE</button></div>'
      +'<div style="border-radius:var(--r);overflow:hidden;border:1px solid var(--border2);position:relative">'
      +'<img src="'+cam.img+'" style="width:100%;display:block;filter:brightness(.75) saturate(.5) hue-rotate(200deg)"/>'
      +(cam.status==='offline'?'<div style="position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.8)"><div style="font-family:var(--mono);color:var(--red);font-size:12px;letter-spacing:2px">SIGNAL LOST</div></div>':'')
      +'</div></div>';
  }
  var mlog=[
    {time:'09:32',cam:'CAM-01',note:'MATCH: Derek Santos confirmed'},
    {time:'07:31',cam:'CAM-02',note:'SESSION START: Mia Chen'},
    {time:'06:02',cam:'CAM-01',note:'DOOR UNLOCK â€” remote app'},
    {time:'05:58',cam:'CAM-03',note:'MOTION: cleaning crew'},
  ].map(function(l){
    return '<div class="al-row"><div class="al-dot" style="background:var(--text3)"></div>'
      +'<div><div class="al-txt"><span style="font-family:var(--mono);color:var(--blue);font-size:10px">'+l.cam+'</span> â€” '+l.note+'</div>'
      +'<div class="al-time">'+l.time+'</div></div></div>';
  }).join('');
  return '<div class="card" style="margin-bottom:14px">'
    +'<div class="card-h"><div class="card-t">Camera Matrix</div>'
    +'<div class="int-badge"><div class="dot pulse" style="background:var(--green);box-shadow:0 0 4px var(--green)"></div>3/4 LIVE</div></div>'
    +'<div class="cam-grid">'+feeds+'</div></div>'
    +expanded
    +'<div class="card"><div class="card-h"><div class="card-t">Motion Log</div></div>'+mlog+'</div>';
}

function renderRemote(){
  var specs=[['HOSTNAME','FAIRWAY-BAY1'],['IP ADDR','192.168.1.42'],['OS','WIN 11 PRO'],['MEMORY','64 GB DDR5'],['GPU','RTX 4080 SUPER'],['STORAGE','2TB â€” 64% FREE'],['UPTIME','3D 14H 22M'],['CPU TEMP','54Â°C']];
  var actions=['RESTART','SLEEP DISPLAY','DIAGNOSTICS','CHECK TRACKMAN','CLEAR TEMP','UPDATE DRIVERS','TASK MGR','REBOOT ROUTER'];
  var screen=remConn
    ?'<img src="https://images.unsplash.com/photo-1527427337751-fdca2f128ce5?w=600&q=60" style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:.55;filter:saturate(.5) hue-rotate(180deg)"/>'
     +'<div style="position:absolute;top:8px;left:8px"><div class="cam-live"><div style="width:4px;height:4px;border-radius:50%;background:var(--green)"></div>REMOTE ACTIVE</div></div>'
     +'<div style="position:absolute;bottom:10px;right:10px;display:flex;gap:8px">'
     +'<button class="btn" style="background:rgba(0,0,0,.8)" onclick="doDisconn()">âœ• DISCONNECT</button>'
     +'<button class="btn" style="background:rgba(0,0,0,.8)">â›¶ FULL</button></div>'
    :'<div id="rstat" style="display:flex;flex-direction:column;align-items:center;gap:12px">'
     +'<div style="font-size:40px">ğŸ–¥</div>'
     +'<div style="font-family:var(--mono);color:var(--text3);font-size:10px;letter-spacing:2px">NO SIGNAL</div>'
     +'<button class="btn-primary" onclick="doConn()">CONNECT</button></div>';
  return '<div class="remote-wrap">'
    +'<div class="g2" style="margin-bottom:14px">'
    +'<div class="card"><div class="card-h"><div class="card-t">System // BAY1</div>'
    +'<div class="int-badge"><div class="dot '+(remConn?'pulse':'')+'" style="background:'+(remConn?'var(--green)':'var(--text3)')+';box-shadow:'+(remConn?'0 0 4px var(--green)':'none')+'"></div>'+(remConn?'CONNECTED':'IDLE')+'</div></div>'
    +specs.map(function(r){return '<div class="rev-row"><div class="data-label">'+r[0]+'</div><div class="data-val">'+r[1]+'</div></div>';}).join('')+'</div>'
    +'<div class="card"><div class="card-t" style="margin-bottom:14px">Remote Display</div>'
    +'<div class="remote-screen" id="rscreen">'+screen+'</div></div></div></div>'
    +'<div class="card"><div class="card-h"><div class="card-t">Quick Commands</div></div>'
    +'<div style="display:flex;gap:8px;flex-wrap:wrap">'+actions.map(function(a){return '<button class="btn">'+a+'</button>';}).join('')+'</div></div>';
}

function renderKanban(){
  var cols=[
    {key:'todo',label:'QUEUE',cls:'kb-col-todo',color:'var(--text3)'},
    {key:'inprogress',label:'IN PROGRESS',cls:'kb-col-inprogress',color:'var(--amber)'},
    {key:'done',label:'RESOLVED',cls:'kb-col-done',color:'var(--green)'},
  ];
  var html=cols.map(function(col){
    var cards=kanban[col.key].map(function(c){
      return '<div class="kb-card" draggable="true" data-id="'+c.id+'" data-col="'+col.key+'" ondragstart="dStart(event)" ondragover="event.preventDefault()" ondrop="dDrop(event,\''+col.key+'\')">'
        +'<div class="kb-title">'+c.title+'</div>'
        +'<div class="kb-tags"><span class="kt kt-'+c.tag+'">'+c.tag.toUpperCase()+'</span><span class="kp-'+c.prio+'">'+c.prio.toUpperCase()+'</span></div>'
        +'<div class="kdue">// '+c.due+'</div></div>';
    }).join('');
    var form=addCol===col.key?'<div class="kb-card" style="border:1px solid var(--border3);background:rgba(56,217,245,.03)">'
      +'<input id="nct" class="kb-new-input" placeholder="Issue title..." onkeydown="if(event.key===\'Enter\')saveKC(\''+col.key+'\')">'
      +'<div style="display:flex;gap:6px;margin-bottom:8px">'
      +'<select id="nctag">'+['Hardware','Admin','Security','Order','Maintenance'].map(function(t){return '<option>'+t+'</option>';}).join('')+'</select>'
      +'<select id="ncprio"><option value="high">HIGH</option><option value="med" selected>MED</option><option value="low">LOW</option></select></div>'
      +'<div style="display:flex;gap:6px"><button class="btn-blue" style="flex:1" onclick="saveKC(\''+col.key+'\')">ADD</button><button class="btn" style="flex:1" onclick="cancelKC()">CANCEL</button></div></div>'
      :'';
    return '<div class="kb-col '+col.cls+'" ondragover="event.preventDefault()" ondrop="dDrop(event,\''+col.key+'\')">'
      +'<div class="kb-col-h"><div style="display:flex;align-items:center;gap:8px"><div style="width:4px;height:4px;border-radius:50%;background:'+col.color+'"></div>'+col.label+'</div>'
      +'<div style="display:flex;align-items:center;gap:6px"><span class="kb-cnt">'+kanban[col.key].length+'</span>'
      +'<button class="btn" style="padding:1px 8px;font-size:12px" onclick="startKC(\''+col.key+'\')">+</button></div></div>'
      +form+cards+'</div>';
  }).join('');
  var hint=isMobile()?'SWIPE TO SEE ALL COLUMNS':'DRAG TO MOVE // CLICK + TO CREATE';
  return '<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;flex-wrap:wrap;gap:8px">'
    +'<div style="font-family:var(--mono);font-size:9px;color:var(--text3);letter-spacing:2px">'+hint+'</div>'
    +'<div style="display:flex;gap:5px;flex-wrap:wrap">'+['Hardware','Admin','Security','Order','Maintenance'].map(function(t){return '<span class="kt kt-'+t+'">'+t.toUpperCase()+'</span>';}).join('')+'</div></div>'
    +'<div class="kb-wrap"><div class="kb">'+html+'</div></div>';
}

function render(){
  var fns={overview:renderOverview,bookings:renderBookings,devices:renderDevices,cameras:renderCameras,remote:renderRemote,kanban:renderKanban};
  document.getElementById('con').innerHTML=(fns[page]||renderOverview)();
}

function togDev(k){devices[k]=!devices[k];render();}
function togLock(){locked=!locked;render();}
function setAC(v){acTemp=+v;render();}
function setVol(v){vol=+v;render();}
function setBright(v){bright=+v;render();}
function setExpandCam(id){expandCam=id;render();}
function doConn(){
  var s=document.getElementById('rstat');
  if(s)s.innerHTML='<div style="font-family:var(--mono);color:var(--blue);font-size:10px;letter-spacing:2px">CONNECTING...</div>';
  setTimeout(function(){remConn=true;render();},2200);
}
function doDisconn(){remConn=false;render();}
function dStart(e){dragSrc={id:e.target.dataset.id,col:e.target.dataset.col};e.dataTransfer.effectAllowed='move';}
function dDrop(e,col){
  e.preventDefault();
  if(!dragSrc||dragSrc.col===col)return;
  var card=kanban[dragSrc.col].find(function(c){return c.id===dragSrc.id;});
  kanban[dragSrc.col]=kanban[dragSrc.col].filter(function(c){return c.id!==dragSrc.id;});
  kanban[col].push(card);
  dragSrc=null;render();
}
function startKC(col){addCol=col;render();setTimeout(function(){var el=document.getElementById('nct');if(el)el.focus();},50);}
function cancelKC(){addCol=null;render();}
function saveKC(col){
  var title=(document.getElementById('nct')||{}).value||'';
  if(!title.trim())return;
  kanban[col].push({id:'k'+Date.now(),title:title.trim(),tag:(document.getElementById('nctag')||{}).value||'Hardware',prio:(document.getElementById('ncprio')||{}).value||'med',due:'TBD'});
  addCol=null;render();
}

render();
</script>
</body>
</html>
